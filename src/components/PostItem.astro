---
import { slugify } from '../utils';
import FormattedDate from './FormattedDate.astro';
import type { CollectionEntry } from 'astro:content';

type BlogPost = CollectionEntry<'blog'>;
const { post }: Record<string, any> | { post: BlogPost } = Astro.props;
---

<div class='border-b border-earth-200 dark:border-earth-800 py-4 hover:border-earth-300 dark:hover:border-earth-700 transition-colors'>
	<div class='flex flex-col sm:flex-row gap-3 sm:items-center'>
		<div class='text-earth-500 dark:text-earth-400 text-sm font-mono w-28 shrink-0'>
			<FormattedDate date={post.data.pubDate} />
		</div>
		<h3 class='font-medium text-base grow text-earth-900 dark:text-earth-100'>
			<a href={`/${post.id}/`} class='hover:text-earth-600 dark:hover:text-earth-300 transition-colors'>
				{post.data.title}
			</a>
		</h3>
		<div class='flex gap-2 shrink-0'>
			{
				(post.data.tags || [])?.map((tag: string) => (
					<a
						class='text-xs text-earth-500 dark:text-earth-400 hover:text-earth-700 dark:hover:text-earth-200 transition-colors font-mono'
						href={`/tags/${slugify(tag)}`}>
						{tag}
					</a>
				))
			}
		</div>
	</div>
</div>
